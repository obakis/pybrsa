---
title: "Examples"
---

# Real-World Examples

## Example 1: Multi-Year Trend Analysis
\`\`\`python
import pybrsa
import pandas as pd

# Collect consumer loans data for multiple years
all_years = []
for year in [2020, 2021, 2022, 2023]:
    data = pybrsa.fetch_bddk(
        start_year=year,
        end_year=year,
        table_no=4,  # Consumer loans
        grup_kod=10001  # Public banks
    )
    data['year'] = year
    all_years.append(data)

# Combine and analyze
combined = pd.concat(all_years)
print(f"Total records: {len(combined)}")
print(f"Years covered: {combined['year'].unique()}")
\`\`\`

## Example 2: Provincial Comparison
\`\`\`python
# Compare deposits across Turkish provinces
import pybrsa
import pandas as pd

# Get deposits data for all provinces
province_data = pybrsa.fetch_finturk(
    start_year=2024,
    start_month=1,
    end_year=2024,
    end_month=1,
    table_no=2,  # Deposits table
    grup_kod=10001,  # All banks
    il=0  # All provinces
)

# Top 10 and bottom 10 provinces
top10 = province_data.nlargest(10, 'Toplam Mevduat')
bottom10 = province_data.nsmallest(10, 'Toplam Mevduat')

print("Top 10 provinces by deposits:")
print(top10[['il_adi', 'Toplam Mevduat']].to_string(index=False))
\`\`\`

## Example 3: Data Export Workflow
\`\`\`python
# Complete workflow: fetch, analyze, export
import pybrsa
import pandas as pd

# 1. Fetch data
data = pybrsa.fetch_bddk(2024, 1, table_no=1)

# 2. Basic analysis
print(f"Data shape: {data.shape}")
print(f"Columns: {list(data.columns)}")
print(f"Time period: {data['period'].min()} to {data['period'].max()}")

# 3. Export using pybrsa functions
pybrsa.save_data(data, "banking_report", format="csv")
pybrsa.save_data(data, "banking_report", format="xlsx")

# 4. Export using pandas for additional formats
data.to_parquet("banking_report.parquet", index=False)
data.to_feather("banking_report.feather")

print("Export complete!")
\`\`\`

## Example 4: Bank Group Comparison
\`\`\`python
# Compare different bank groups
import pybrsa

bank_groups = {
    10001: "Public Banks",
    10002: "Private Banks", 
    10003: "Foreign Banks",
    10006: "All Banks"
}

for code, name in bank_groups.items():
    data = pybrsa.fetch_bddk(
        start_year=2024,
        start_month=1,
        end_year=2024,
        end_month=1,
        table_no=4,  # Consumer loans
        grup_kod=code
    )
    total = data['TRY'].sum()
    print(f"{name}: {total:,.0f} TRY")
\`\`\`
